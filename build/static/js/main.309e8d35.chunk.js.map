{"version":3,"sources":["constants/index.js","reducers/products.js","utils/index.js","reducers/index.js","reducers/cart.js","reducers/dealers.js","actions/index.js","api/index.js","sagas/index.js","components/cards/cardDefault.js","components/loader/index.js","pages/products/index.js","pages/cart/index.js","pages/404/index.js","components/navbar/index.js","App.js","startApp.js","index.js"],"names":["REQUEST_PRODUCTS","REQUEST_SUCCESS_PRODUCTS","REQUEST_FAIL_PRODUCTS","ADD_CART","REMOVE_CART","REMOVE_ITEM_CART","REMOVE_ALL_CART","initialState","isLoading","data","setCartLocalStorage","cartState","localStorage","setItem","JSON","stringify","getCartLocalStorage","parse","getItem","combineReducers","products","state","action","type","payload","cart","product","count","id","findIndex","item","name","newstate","concat","splice","dealers","requestProducts","requestSuccesProducts","addToCart","URL_API","getProducts","url","length","axios","get","then","response","getDealers","catch","error","console","log","URL","requestProductsSaga","saga","call","API","put","takeLatest","CardDefault","children","className","style","backgroundImage","image","Loader","mapDispatchToProps","connect","useEffect","s","map","card","i","key","onClick","price","removeFromCart","removeItemFromCart","removeAllCart","useState","setPrice","renderCardChildren","Fragment","toFixed","toString","clickRemoveHandler","onChange","e","parsedValue","parseInt","target","value","isNaN","changeCountHandler","sum","reduce","acc","Navbar","countCart","setCountCart","forEach","el","to","basename","path","component","Products","Cart","PageNotFound","exact","startAppHandler","callback","checkboxes","document","getElementById","querySelectorAll","checked","push","detail","remove","renderCheckboxes","preloader","container","dealer","innerHTML","join","sagaMiddleware","createSagaMiddleware","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","init","store","createStore","rootReducer","run","ReactDOM","render","eventAPP","CustomEvent","addEventListener","a","async","renderDealers"],"mappings":"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","file":"static/js/main.309e8d35.chunk.js","sourcesContent":["export const REQUEST_PRODUCTS = \"REQUEST_PRODUCTS\";\nexport const REQUEST_SUCCESS_PRODUCTS = \"REQUEST_SUCCESS_PRODUCTS\";\nexport const REQUEST_FAIL_PRODUCTS = \"REQUEST_FAIL_PRODUCTS\";\n\nexport const ADD_CART = \"ADD_CART\";\nexport const REMOVE_CART = \"REMOVE_CART\";\nexport const REMOVE_ITEM_CART = \"REMOVE_ITEM_CART\";\nexport const REMOVE_ALL_CART = \"REMOVE_ALL_CART\";\n","import {\n    REQUEST_PRODUCTS,\n    REQUEST_SUCCESS_PRODUCTS,\n    REQUEST_FAIL_PRODUCTS,\n} from 'constants/index';\n\nconst initialState = {\n    isLoading: false,\n    data: []\n}\n\nexport default (state = initialState, action) => {\n    const {type, payload} = action;\n\n    switch (type) {\n        case REQUEST_PRODUCTS:\n            return {\n                ...state,\n                isLoading: true\n            };\n        case REQUEST_SUCCESS_PRODUCTS:\n            return {\n                ...state,\n                data: payload.data,\n                isLoading: false\n            };\n        case REQUEST_FAIL_PRODUCTS:\n            return {\n                ...state,\n                isLoading: false\n            };\n        default:\n            return state;\n    }\n}","export const setCartLocalStorage = (cartState) => {\n    localStorage.setItem('cart', JSON.stringify(cartState));\n}\n\nexport const getCartLocalStorage = () => {\n    return JSON.parse(localStorage.getItem('cart')) || [];\n}\n\n","import {combineReducers} from 'redux';\r\n\r\nimport products from './products';\r\nimport cart from './cart';\r\nimport dealers from './dealers';\r\n\r\nexport default combineReducers({\r\n    products,\r\n    cart,\r\n    dealers\r\n});","import {\n    ADD_CART,\n    REMOVE_CART,\n    REMOVE_ITEM_CART,\n    REMOVE_ALL_CART,\n} from 'constants/index';\n\nimport { setCartLocalStorage, getCartLocalStorage } from 'utils/index';\n\nexport default (state = getCartLocalStorage(), action) => {\n    const {type, payload} = action;\n\n    switch (type) {\n        case ADD_CART: {\n            const { product, count } = payload;\n            const id = state.findIndex(item => item.name === product.name);\n\n            if (id === -1) {\n                const newstate = state.concat({...product, count: 1});\n                setCartLocalStorage(newstate);\n                return newstate;\n            }\n\n            count ? state[id].count = count :state[id].count++;\n\n            setCartLocalStorage([...state]);\n\n            return [...state];\n        }\n\n        case REMOVE_CART: {\n            const { product } = payload;\n            const id = state.findIndex(item => item.name === product.name);\n\n            state[id].count--;\n            setCartLocalStorage([...state]);\n\n            return [...state];\n        }\n        \n        case REMOVE_ITEM_CART: {\n            const { product } = payload;\n            const id = state.findIndex(item => item.name === product.name);\n\n            state.splice(id, 1);\n            setCartLocalStorage([...state]);\n\n            return [...state];\n        }\n\n        case REMOVE_ALL_CART:\n            setCartLocalStorage([]);\n            return [];\n        default:\n            return state;\n    }\n}","export default (state = [], action) => {\n    return state;\n}","import {\n    REQUEST_PRODUCTS,\n    REQUEST_SUCCESS_PRODUCTS,\n    REQUEST_FAIL_PRODUCTS,\n    ADD_CART,\n    REMOVE_CART,\n    REMOVE_ITEM_CART,\n    REMOVE_ALL_CART\n} from 'constants/index';\n\nexport function requestProducts(dealers) {\n    return {\n        type: REQUEST_PRODUCTS,\n        payload: {\n            dealers\n        }\n    }\n}\n\nexport function requestSuccesProducts(data) {\n    return {\n        type: REQUEST_SUCCESS_PRODUCTS,\n        payload: {\n            data\n        }\n    }\n}\n\nexport function requestFailProducts() {\n    return {\n        type: REQUEST_FAIL_PRODUCTS,\n        payload: {\n            isLoading: false,\n        }\n    }\n}\n\nexport function addToCart (product, count) {\n    return {\n        type: ADD_CART,\n        payload: {\n            product,\n            count\n        }\n    }\n}\n\nexport function removeFromCart (product) {\n    return {\n        type: REMOVE_CART,\n        payload: {\n            product\n        }\n    }\n}\n\nexport function removeAllCart (product) {\n    return {\n        type: REMOVE_ALL_CART,\n        payload: {}\n    }\n}\n\nexport function removeItemFromCart (product) {\n    return {\n        type: REMOVE_ITEM_CART,\n        payload: {\n            product\n        }\n    }\n}\n","import axios from 'axios';\n\nconst URL_API = 'https://murmuring-tor-81614.herokuapp.com/api';\nconst URL = \"https://murmuring-tor-81614.herokuapp.com\";\n\nconst getProducts = (dealers) => {\n    const url = dealers && dealers.length ? `${URL_API}/goods/?dealers=${dealers}` : `${URL_API}/goods`;\n\n    return axios.get(url)\n      .then( (response) => {\n        return response.data;\n      });\n}\n\nconst getDealers = () => {\n  const url = `${URL_API}/dealers/`;\n\n  return axios.get(url)\n    .then( (response) => {\n      return response.data;\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n}\n\nexport default {\n    getProducts,\n    getDealers,\n    URL\n}\n","import { call, put, takeLatest } from 'redux-saga/effects';\nimport { REQUEST_PRODUCTS } from 'constants/index';\n\nimport {\n    requestSuccesProducts,\n    requestFailProducts,\n} from 'actions/index';\n\nimport API from 'api/index';\n\nfunction* requestProductsSaga(action) {\n   try {\n     const { dealers } = action.payload;\n     const data = yield call(API.getProducts, dealers);\n\n     yield put(requestSuccesProducts(data));\n   } catch (e) {\n      yield put(requestFailProducts(e));\n   }\n}\n\nfunction* saga() {\n  yield takeLatest(REQUEST_PRODUCTS, requestProductsSaga);\n}\n\nexport default saga;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport API from 'api/index';\n\nconst CardDefault = ({product, children}) => {\n    return (\n        <div className=\"card px-20\">\n            <div\n                style={{\n                    backgroundImage: `url(${API.URL}${product.image})`,\n                }}\n                className=\"bg-img\"\n            />\n            <h4>{product.name}</h4>\n            {children}\n        </div>\n    )\n}\n\nCardDefault.propTypes = {\n    product: PropTypes.object.isRequired,\n    children: PropTypes.node\n}\n\nexport default CardDefault;\n","import React from 'react';\n\nconst Loader = () => {\n    return (\n        <div className=\"progress\">\n            <div className=\"indeterminate\"></div>\n        </div>\n    )\n}\n\nexport default Loader;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { requestProducts, addToCart } from 'actions/index';\n\nimport CardDefault from 'components/cards/cardDefault';\nimport Loader from 'components/loader';\n\nconst ProductsPage = ({products, dealers, isLoading, requestProducts, addToCart}) => {\n\n    const clickAddHandler = (product) => {\n\n    }\n\n    useEffect(() => {\n       requestProducts(dealers);\n    }, [])\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col\" s={12}>\n                    <h1>Товары</h1>\n                </div>\n            </div>\n\n            <div className=\"row\">\n                {\n                    !isLoading ?\n                        products.map((card, i) => {\n                            return (\n                                <div\n                                    key={i}\n                                    className=\"col s12 m6 l4 mb-3\"\n                                >\n                                    <CardDefault\n                                        product={card}\n                                    >\n                                        <button\n                                            type=\"button\"\n                                            className=\"btn waves-effect waves-light\"\n                                            onClick={() => addToCart(card)}\n                                        >\n                                            <i className=\"material-icons left\">add_shopping_cart</i>\n                                            в корзину\n                                            <span> ₽ {card.price}</span>\n                                        </button>\n                                    </CardDefault>\n                                </div>\n                            )\n                        })\n                        : <Loader />\n                }\n            </div>\n            \n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        products: state.products.data,\n        dealers: state.dealers,\n        isLoading: state.products.isLoading\n    }\n}\n\nconst mapDispatchToProps = {\n    requestProducts,\n    addToCart\n}\n\nProductsPage.propTypes = {\n    dealers: PropTypes.array,\n    products: PropTypes.array.isRequired,\n    requestProducts: PropTypes.func.isRequired,\n    addToCart: PropTypes.func.isRequired,\n    isLoading: PropTypes.bool.isRequired\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsPage);\n","import React, {useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n    addToCart,\n    removeFromCart,\n    removeItemFromCart,\n    removeAllCart\n} from 'actions/index';\n\nimport CardDefault from 'components/cards/cardDefault';\n\nconst Cart = ({ products, addToCart, removeFromCart, removeItemFromCart, removeAllCart }) => {\n    const [price, setPrice] = useState(0);\n\n    const clickRemoveHandler = (product) => {\n        if (product.count > 1) {\n            removeFromCart(product);\n        }\n    }\n\n    const clickRemoveAllHandler = () => {\n        removeAllCart()\n    }\n\n    const changeCountHandler = (e, product) => {\n        const parsedValue = parseInt(e.target.value);\n\n        if (!isNaN(parsedValue) && ( parsedValue > 0)) {\n            addToCart(product, parsedValue);\n        }\n    }\n\n    const renderCardChildren = (product) => {\n        const { count, price } = product;\n        return (\n            <React.Fragment>\n                <h5>Цена: ₽ {+(count * price).toFixed(2).toString()}</h5>\n\n                <div className=\"row\">\n                    <button\n                        type=\"button\"\n                        className=\"col waves-effect waves-light btn-floating red py-0\"\n                        onClick={() => clickRemoveHandler(product)}\n                    >\n                    <i className=\"material-icons\">remove</i>\n                    </button>\n                    <div className=\"col s6 py-10\">\n                        <input\n                            type=\"text\"\n                            onChange={(e) => changeCountHandler(e, product)}\n                            value={count}\n                        />\n                    </div>\n\n                    <button \n                        type=\"button\"\n                        className=\"col waves-effect waves-light btn-floating green py-0\"\n                        onClick={() => addToCart(product)}\n                    >\n                        <i className=\"material-icons\">add</i>\n                    </button>\n                </div>\n                <button \n                    type=\"button\"\n                    className=\"btn waves-effect waves-light\"\n                    onClick={() => removeItemFromCart(product)}\n                >\n                        <i className=\"material-icons left\">delete_forever</i>\n                        Удалить\n                </button>\n            </React.Fragment>\n        )\n    }\n\n    useEffect(() => {\n        const sum = products.reduce((acc,{price, count}) => {\n            return acc += price * count;\n        }, 0);\n\n        setPrice(sum.toFixed(2));\n    }, [products])\n\n    return (\n        <div className=\"container\">\n            {\n                products.length ?\n                <div>\n                    <h2>Товары в вашей корзине</h2>\n                    <h4>\n                        Общая стоимость товаров: ₽ {price.toString()}\n                    </h4>\n                    <button \n                        type=\"button\"\n                        className=\"btn mb-3\"\n                        onClick={clickRemoveAllHandler}\n                    >\n                        <i className=\"material-icons left\">delete_forever</i>\n                        Удалить все товары\n                    </button>\n                    <div className=\"row\">\n                        {\n                            products.map((product, i) => {\n                                return (\n                                    <div\n                                        key={i}\n                                        className=\"col s12 m6 l4\"\n                                    >\n                                        <CardDefault\n                                            product={product}\n                                        >\n                                            {renderCardChildren(product)}\n                                        </CardDefault>\n                                    </div>\n                                )\n                            })\n                        }\n                    </div>\n                </div>\n                : <h2>Ваша корзина пуста</h2>\n            }\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        products: state.cart\n    }\n}\n\nconst mapDispatchToProps = {\n    addToCart,\n    removeFromCart,\n    removeItemFromCart,\n    removeAllCart\n}\n\nCart.propTypes = {\n    products: PropTypes.array.isRequired,\n    addToCart: PropTypes.func.isRequired,\n    removeFromCart: PropTypes.func.isRequired,\n    removeItemFromCart: PropTypes.func.isRequired,\n    removeAllCart: PropTypes.func.isRequired,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n","import React from 'react';\n\nexport default () => {\n    return <div className=\"container\"><h1>Страница не найдена</h1></div>;\n}","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nconst Navbar = ({cart}) => {\n    const [countCart, setCountCart] = useState(0);\n\n    useEffect(() => {\n      let sum = 0;\n\n      cart.forEach(el => sum += el.count);\n      setCountCart(sum);\n    }, [cart]);\n\n    return (\n      <div className=\"navbar-fixed\">\n        <nav>\n          <div className=\"nav-wrapper\">\n            <ul className=\"right\">\n              <li><NavLink to=\"/products\">Товары</NavLink></li>\n              <li>\n                <NavLink to=\"/cart\">\n                  Корзина {countCart || null}\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n        </nav>\n      </div>\n    )\n}\n\nNavbar.propTypes = {\n  cart: PropTypes.array.isRequired\n}\n\nexport default Navbar;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { requestProducts } from 'actions/index';\r\n\r\nimport Products from 'pages/products';\r\nimport Cart from 'pages/cart';\r\nimport PageNotFound from 'pages/404';\r\n\r\nimport Navbar from 'components/navbar';\r\n\r\nconst App = ({cart, requestProducts}) => {\r\n  return (\r\n    <Router basename=\"/online-store/build/\">\r\n        <Navbar cart={cart} /> \r\n\r\n        <Switch>\r\n          <Route path=\"/products\" component={Products} />\r\n          <Route path=\"/cart\" component={Cart} />\r\n          <Route component={PageNotFound} />\r\n        </Switch>\r\n\r\n        <Route exact path=\"/\">\r\n          <Redirect to=\"/products\" />\r\n        </Route>\r\n   \r\n    </Router>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n      cart: state.cart\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  cart: PropTypes.array.isRequired,\r\n  requestProducts: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default connect(mapStateToProps, { requestProducts })(App);\r\n","import API from 'api/index';\n\nexport const renderDealers = async () => {\n    try {\n        const dealers = await API.getDealers();\n        renderCheckboxes(dealers);\n    } catch(error) {\n        console.log(error);\n    }\n\n}\n\nexport const startAppHandler = (e, callback, type) => {\n    let dealers = [];\n\n    if (type === 'form') {\n        const form = document.getElementById('form-dealers');\n        const checkboxes = form.querySelectorAll('.ch-dealers');\n\n        for (let i = 0; i < checkboxes.length; i++) {\n            if (checkboxes[i].checked) {\n                dealers.push(checkboxes[i].value);\n            }\n        }\n\n    } else {\n        dealers = e.detail ? e.detail : [];\n    }\n\n    document.getElementById('start-app').remove();\n    callback(dealers);\n}\n\nconst renderCheckboxes = (dealers) => {\n    const checkboxes = [];\n    const preloader = document.getElementById('chs-preloader');\n    const container = document.getElementById('checkboxes-placeholder');\n\n    dealers.forEach((dealer) => {\n        checkboxes.push(`\n            <label>\n                <input type=\"checkbox\" class=\"filled-in ch-dealers\" value=\"${dealer}\" />\n                <span>${dealer}</span>\n            </label><br />`)\n    });\n    preloader.remove();\n    container.innerHTML = checkboxes.join('');\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport rootReducer from './reducers';\nimport saga from 'sagas/index';\n\nimport App from './App';\n\nimport { startAppHandler, renderDealers } from 'startApp';\n\nimport './style/utils.css';\n\n// create the saga middleware\nconst sagaMiddleware = createSagaMiddleware();\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst enhancer = composeEnhancers(applyMiddleware(sagaMiddleware));\n\nconst init = (dealers) => {\n    const store = createStore(\n        rootReducer,\n        { dealers },\n        enhancer\n    );\n\n    sagaMiddleware.run(saga);\n\n    ReactDOM.render(\n        <Provider store={store}>\n            <App />\n        </Provider>,\n        document.getElementById('root')\n    );\n}\n\n//==============================================================\n// Create the event\nconst dealers =  [ \"0c4aab30\"];\nwindow.eventAPP = new CustomEvent(\"app_load\", {'detail': dealers });\n\nconst btnStartApp = document.getElementById('start-btn');\n\nbtnStartApp.addEventListener('click', (e) => startAppHandler(e, init, 'form'))\ndocument.addEventListener('app_load', (e) => startAppHandler(e, init));\n\n// get and render dealers\nrenderDealers();\n"],"sourceRoot":""}